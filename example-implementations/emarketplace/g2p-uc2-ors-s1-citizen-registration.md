# G2P-UC2-ORS-S1-Citizen Registration

<table data-header-hidden><thead><tr><th width="157"></th><th></th></tr></thead><tbody><tr><td>Use Case Step </td><td>     Self-Registration of citizen (how about Mee-Seva channels?) </td></tr><tr><td><p>Preconditions </p><p>(list of conditions that MUST be met in order to be able to successfully execute this process) </p></td><td><ul><li>The citizen has already registered in a national identification system (IDBB) and has a unique electronic identity/social protection number to register an account and to avail related benefits/schemes offered by the government.  </li><li>Good internet connectivity, access channels (web/mobile/kiosk) shall be available. </li><li>Data sharing agreement between Registration BB and respective registries where information is queried from has been signed (consent) and respective REST API services in Information Mediator have been opened to Registration BB. </li><li>The citizen owns the identity proof (card, QR code, ID number, etc) available together with the required credentials for the healthcare platform that can be verified and authenticated with the national ID system. </li></ul></td></tr><tr><td>Data inputs </td><td><ul><li>Name, Age, Gender of the citizen </li><li>National ID number of the citizen </li><li>Electronic Health Record(HER) number </li><li>Registered mobile number </li><li>Captcha Chat/non-robot verification </li><li>OTP </li><li>Permanent address details (Door number, Lane, PIN, City, State, Nation) </li></ul></td></tr><tr><td><p>Actors </p><p>(the people, organizations, computer systems - hardware and software, and building blocks that participate in the activity) </p></td><td><p>Human: Citizen </p><p>System:  </p><ul><li>Healthcare platform application </li><li>Digital Registries BB/(EHR) </li><li>Registration BB </li><li>Identity BB </li><li>Consent BB </li><li>Messaging BB </li><li>Information Mediator BB </li><li>National Population Registry (Digital Registries BB or Identity BB) </li></ul></td></tr><tr><td>Normal Course (what happens if the event is triggered and the preconditions have been met) </td><td><p>The registration form screen for the Healthcare application provides a list of initial details required to proceed with the registration (eligibility verification, required documents such as national ID/EHR proof). </p><p><strong>Step 1: The citizen  enters the required initial details, including, but not limited to the following</strong>: </p><ol start="1"><li>Citizen’s National ID number </li></ol><ol start="2"><li>Name of the Citizen </li></ol><ol start="3"><li>Date of Birth </li></ol><ol start="4"><li>Gender at Birth </li></ol><ol start="5"><li>Address details </li></ol><ol start="6"><li>Mobile number  </li></ol><ol start="7"><li>The application shall seek the consent of the citizen to retrieve additional data from multiple registries. </li></ol><p>Feature: Get Consent Agreement </p><p>Scenario: Healthcare Application retrieves Consent Agreement for citizen </p><p>Given an Agreement citizen registration that exists in Consent BB </p><p>And Healthcare Application has Citizen’s &#x3C;ID> and authentication token for the registration session </p><p>When Healthcare application fetches a Consent Agreement for Citizen  registration </p><p>Then Healthcare application gets a valid Draft Consent Agreement associated with Citizen's ID </p><p>API Endpoints </p><p><strong>Step 2: The health Application introduces to the citizen the Consent</strong> Agreement for fetching the relevant details from the Population registry (Should it check with EHR also?) for verification and appropriate use with the health application and captures signature to the Consent Agreement from the citizen. </p><p>Feature: Sign Consent Record </p><p>Background: </p><p>Given Health Application has the Draft Consent Agreement associated with Citizen's ID and authentication token for the registration session  </p><p>And Citizen has read the Draft Consent Agreement </p><p>And Citizen approves to sign the Draft Consent Agreement associated with Citizen's ID (What language and what if the citizen does not agree?) </p><p>Scenario: Sign Consent Record on Paper </p><p>Given Health application has captured the consent in a digital form (for example: scan of a paper form) </p><p>When Health application sends digital Consent Record payload to Consent BB </p><p>Then Consent BB digitally signs Consent Record </p><p>And Consent BB confirms to Health Application that Consent Record for Citizen has been successfully signed </p><p>Scenario: Sign Consent Record Digitally </p><p>Given Citizen has capability to sign Consent Record digitally </p><p>When Health Application sends the Draft Consent Agreement to Consent BB </p><p>Then Consent BB creates a paired ConsentRecord and Signature object  </p><p>And Consent BB digitally signs Consent Record </p><p>And Consent BB confirms to Health Application that Consent Record for Citizen has been successfully signed </p><p>API Endpoints </p><p><strong>Step 3: The Health application form submits the national ID number to the Population registry hosted in the IDBB/Digital Registries BB</strong> seeking relevant details of the Citizen, by invoking the API “Data read value” on the Govstack Digital Registries BB. </p><p>This scenario uses a set of features: </p><ul><li>Verify Consent Record by Consent BB </li><li>Import data from a registry by Registry BB  </li></ul><p>Feature: Verify Consent Record </p><p>Health Application verifies if Citizen has signed Consent Record to fetch the needed personal data from Population registry for Health Application  user registration </p><p> Scenario: Retrieve valid Consent Record  </p><p>Given Citizen has Signed Consent Record stored in Consent BB  </p><p>When Health Application makes the request to population registry API to fetch Citizen's personal data    </p><p>Then Health Application makes prior request to Consent BB API to retrieve Citizen's Signed Consent Record     </p><p>And Consent BB sends the signed Consent Record to Health Application </p><p> </p><p> Feature: Imports client personal data from a registry </p><p>Import Citizen's personal information from Population Registry to the e-service form </p><p> </p><p>Given Citizen has entered &#x3C;ID> in the Registration e-service registration form, national ID number field </p><p>And Health Application has received Signed Consent Record from Consent BB </p><p>When the Health Application user pushes a button "Import Citizen's information" </p><p>   Then the Health Application makes a request to Population Registry API </p><p>    And Population Registry returns requested data to Health Application </p><p>    And Health Application fills the form on the screen with Citizen’s data    &#x3C;ID>,&#x3C;first>, &#x3C;last>, &#x3C;age>  </p><p> Examples: </p><p>    |ID|first|last|birth| </p><p>    |53|Sowmya|Krishnamurti|2023-02-14|  </p><p> </p><p>In response, the Govstack IDBB/ Digital Registries BB is expected to return the following: </p><p> Data returned from Registry </p><p>&#x3C;How do we know whether a citizen is entitled for a health benefit or not. For example, No fee for below poverty line; Low fee for a cancer surgery> </p></td></tr><tr><td><p>Alternative Course </p><p>(links to other use cases in case there are different ways how to solve the same use case) </p></td><td><p>If the Citizen does not possess a national ID, the registration application needs to provide an alternate mechanism for &#x3C;> </p><p>GetIdentityProfile – elaborate </p><p> </p><ol start="1"><li>If the consent record is previously created and available, the registration application should fetch the consent agreement by invoking the API: “serviceListIndividualRecord” on the Govstack Consent BB </li></ol><p>“GET /dataconsumer/consent/” </p><p> </p></td></tr><tr><td>Data output </td><td><p>The successful completion of the citizen registration process will result in confirmation and issuance of a program-specific ID that can be used by the citizen for future interactions with the program. </p><p>Expected data from Registration BB </p></td></tr><tr><td>Post-Conditions (the success criteria) </td><td>The citizen has registered in the Health Application registry. </td></tr><tr><td><p>Exceptions </p><p>(error situations) </p></td><td><ul><li>A citizen can be only registered once in Health Application. The system must prevent multiple registrations. </li><li>Provide details on exception code and message </li><li>Mitigation steps: Describe steps to be taken by the actors </li></ul><ul><li>If the citizen has entered incorrect information then the Health Application inform the citizen to check/validate the same. </li></ul><ul><li>Provide details on exception code and message </li><li>Mitigation steps: Describe steps to be taken by the actors  </li></ul><ul><li>If Identity BB or Consent BB is not available (service outage), then ….. </li></ul><ul><li>Mitigation steps: Describe steps to be taken by the actors  </li></ul><ul><li>If no internet, then the system is not available and information must be collected on paper forms or on offline data capturing devices. </li></ul><ul><li>Mitigation steps: Describe steps to be taken by the actors </li></ul></td></tr><tr><td><p>Related BBs </p><p>(working groups related to this example implementation) </p></td><td><ul><li>Identity BB </li><li>Consent BB </li><li>Registration BB </li><li>Digital Registries BB </li></ul><p> </p></td></tr><tr><td>Sequence Diagram </td><td><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZSURBVFhH7cEBAQAAAICQ/q/uCAIAAACgBhElAAGcWoyeAAAAAElFTkSuQmCC" alt="Shape blob:https://govstack-global.atlassian.net/3083b5b8-3512-4ffc-8414-12579334e565#media-blob-url=true&#x26;id=a0a8696e-e748-4408-b78f-e9a243b8740e&#x26;collection=contentId-112197720&#x26;contextId=112197720&#x26;height=1297&#x26;width=1200&#x26;alt="> </p><p>  </p></td></tr></tbody></table>
